<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Pengumpulan Tugas</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Menggunakan font Inter untuk tampilan bersih */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-lg bg-white p-8 md:p-10 rounded-xl shadow-2xl transition-shadow duration-300 hover:shadow-3xl border-t-4 border-blue-600">
        
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">Form Pengumpulan Tugas</h1>
        <p class="text-center text-gray-500 mb-8">Silakan isi detailnya, dan tugas kalian akan di-upload ke drive saya.</p>

        <!-- Container untuk notifikasi status -->
        <div id="statusMessage" class="hidden p-4 rounded-lg text-sm mb-6 transition-all duration-300 ease-in-out" role="alert">
            <span id="statusText" class="font-medium"></span>
        </div>

        <!-- FORMULIR UTAMA -->
        <!-- Ganti action dengan URL POST Google Forms Anda -->
        <form id="submissionForm" 
              action="https://script.google.com/macros/s/AKfycbwj-uhOAZot_ARPiouh9y1QliFuqLomDaLg84wNMZaOGqKK4AVpeK4sL6dT0Vm4iU2U/exec"
              method="POST" 
              enctype="multipart/form-data" 
              class="space-y-6">

            <!-- Field Nama Murid -->
            <div>
                <label for="studentName" class="block text-sm font-medium text-gray-700 mb-1">Nama Murid Lengkap</label>
                <input type="text" 
                       name="entry.nama_field_nama" 
                       id="studentName" 
                       required 
                       placeholder="Masukkan nama lengkap Anda"
                       class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
            </div>

            <!-- Field Judul Tugas -->
            <div>
                <label for="assignmentTitle" class="block text-sm font-medium text-gray-700 mb-1">Judul Tugas / Mata Pelajaran</label>
                <input type="text" 
                       name="entry.nama_field_judul" 
                       id="assignmentTitle" 
                       required 
                       placeholder="Contoh: Komputer Dasar"
                       class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 transition duration-150 ease-in-out">
            </div>

            <!-- Field Upload File -->
            <div>
                <label for="fileUpload" class="block text-sm font-medium text-gray-700 mb-1">Unggah File Tugas</label>
                <!-- ATTRIBUTE 'name' INI HARUS PERSIS SAMA DENGAN FIELD UPLOAD DI GOOGLE FORMS -->
                <input type="file" 
                       name="entry.nama_field_file"
                       id="fileUpload" 
                       required 
                       class="block w-full text-sm text-gray-500 
                       file:mr-4 file:py-2 file:px-4
                       file:rounded-full file:border-0
                       file:text-sm file:font-semibold
                       file:bg-blue-50 file:text-blue-700
                       hover:file:bg-blue-100 mt-2"/>
                <p class="mt-2 text-xs text-gray-400">Hanya file tunggal. Maks. ukuran file tergantung limit Google Drive Guru.</p>
            </div>
            
            <!-- Tombol Submit -->
            <div class="pt-4">
                <button type="submit" 
                        id="submitButton"
                        class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out">
                    Kirim Tugas
                </button>
            </div>
        </form>

    </div>

    <script>
        const form = document.getElementById('submissionForm');
        const statusMessage = document.getElementById('statusMessage');
        const statusText = document.getElementById('statusText');

        // Fungsi yang dijalankan saat formulir dikirim
        form.addEventListener('submit', function(e) {
            // Kita tidak mencegah default submit (biarkan formulir mengirim data ke Google Forms)
            
            // Tampilkan pesan loading
            const submitButton = document.getElementById('submitButton');
            submitButton.disabled = true;
            submitButton.innerHTML = '<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Mengirim... Jangan Tutup Halaman';

            // Karena Google Forms akan mengarahkan (redirect), kita tidak bisa menampilkan 
            // pesan sukses kembali di sini. Pengguna akan melihat halaman konfirmasi Google Forms.

            // Opsional: Reset tombol setelah 10 detik (asumsi upload cepat)
            setTimeout(() => {
                submitButton.disabled = false;
                submitButton.innerHTML = 'Kirim Tugas';
                statusMessage.classList.add('hidden');
            }, 10000); 
        });

        // Untuk mendapatkan nama field entry Google Forms, kita harus tahu ID-nya
        // Masalah: Field 'name' di HTML harus cocok dengan ID 'entry.[nomor]' dari Google Forms.
        // Anda harus:
        // 1. Kirim 1x formulir kosong (dari Google Forms langsung).
        // 2. Cek URL baris di browser: entry.XXXXX akan terlihat di sana.
        // Ganti 'entry.nama_field_nama', 'entry.nama_field_judul', dan 'entry.nama_field_file' 
        // dengan ID yang sebenarnya.

        // Jika Anda sudah mengetahui ID field-nya, ganti di atas.
    </script>
</body>
</html>
